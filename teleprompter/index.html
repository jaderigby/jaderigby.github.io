<!doctype html>
<html lang="en-US">
    <head>
        <meta charset="utf-8" />
        <link rel="stylesheet" type="text/css" href="segments/css/wc-segments.lib.min.css" />
        <script src="segments/js/segments.lib.js"></script>
        <script src="js/remarkable.min.js"></script>
        <style>
            html,
            body,
            div,
            span,
            applet,
            object,
            iframe,
            h1,
            h2,
            h3,
            h4,
            h5,
            h6,
            p,
            blockquote,
            pre,
            a,
            abbr,
            acronym,
            address,
            big,
            cite,
            code,
            del,
            dfn,
            em,
            img,
            ins,
            kbd,
            q,
            s,
            samp,
            small,
            strike,
            strong,
            sub,
            sup,
            tt,
            var,
            dl,
            dt,
            dd,
            ol,
            ul,
            li,
            fieldset,
            form,
            label,
            legend,
            table,
            caption,
            tbody,
            tfoot,
            thead,
            tr,
            th,
            td {
                margin: 0;
                padding: 0;
                border: 0;
                outline: 0;
                font-weight: inherit;
                font-style: inherit;
                font-family: inherit;
                font-size: 100%;
                vertical-align: baseline;
            }
            body {
                line-height: 1;
            }
            ol,
            ul {
                list-style: none;
            }
            table {
                border-collapse: separate;
                border-spacing: 0;
                vertical-align: middle;
            }
            caption,
            th,
            td {
                text-align: left;
                font-weight: normal;
                vertical-align: middle;
            }
            a img {
                border: none;
            }
            body {
                font-family: Helvetica Neue, arial, verdana, sans-serif;
                font-weight: 300;
                background-color: #151515;
            }
            panel-wrapper {
                background-color: #fff;
            }
            .left-justify {
                text-align: left !important;
            }
            .center-justify {
                text-align: center !important;
            }
            .right-justify {
                text-align: right !important;
            }
            .center {
                margin: 0 auto;
            }
            .left {
                float: left;
            }
            .right {
                float: right;
            }
            h1 {
                font-size: 1.2em;
                margin: 0.8em 0;
                padding: 0.3em 0.4em;
                line-height: 1.15;
            }
            h2 {
                font-size: 1em;
                margin: 0.8em 0;
                padding: 0.3em 0.4em;
                line-height: 1.15;
            }
            h3 {
                font-size: 0.8em;
                margin: 0.8em 0;
                padding: 0.3em 0.4em;
                line-height: 1.15;
            }
            h4 {
                font-size: 0.6em;
                margin: 0.8em 0;
                padding: 0.3em 0.4em;
                line-height: 1.15;
            }
            h5 {
                font-size: 0.4em;
                margin: 0.8em 0;
                padding: 0.3em 0.4em;
                line-height: 1.15;
            }
            h6 {
                font-size: 0.2em;
                margin: 0.8em 0;
                padding: 0.3em 0.4em;
                line-height: 1.15;
            }
            h4,
            h5 {
                line-height: 1.3;
            }
            h1, h2, h3, h4, h5, h6 {
                color: white;
                background-color: #3c829c; /* 2cc5ff, 3c829c */
            }
            .content {
                width: 960px;
            }
            @media screen and (max-width: 985px) {
                .content {
                    width: auto;
                }
            }
            .content {
                color: white;
                padding-top: 30px;
                /* width: 960px; */
                margin: auto;
                left: 0;
                right: 0;
                font-family: helvetica neue, arial;
                font-weight: 400;
                font-size: 435%;
                line-height: 1.5;
            }
            .content p {
                margin: 0.85em 0;
            }
            textarea {
                width: calc(100% - 60px);
                height: 300px;
                color: white;
                padding: 30px;
                font-size: 2rem;
                line-height: 1.2;
            }
            input[type="submit"] {
                display: inline-block;
                border: none;
                border-radius: 4px;
                background-color: #6f6f6f;
                color: #afe8ff;
                font-size: 1.2rem;
                text-transform: uppercase;
                padding: 8px 25px;
                margin: 10px 0;
                text-align: right;
            }
            .info-message {
                color: #aaa;
            }
            .stick {
                padding-left: 45px;
                position: fixed;
                left: 0;
                right: 0;
                background-color: #232d31;
                box-shadow: 0 0 50px rgba(0,0,0,0.65);
            }
            #speed {
                width: 25px;
                font-size: 1.2rem;
            }
            .hidden {
                display: none;
            }
            button {
                padding: 4px 15px;
                border-radius: 4px;
                font-size: 1.1rem;
                color: white;
                font-weight: 700;
                cursor: pointer;
                border: none;
            }
			#scrollBtn {
				width: 225px;
			}
            #scrollBtn.start {
                background: rgb(40,110,100);
background: linear-gradient(360deg, rgba(40,110,100,1) 0%, rgba(78,149,158,1) 100%);
                border: 1px solid #7bdccf;
            }
            #scrollBtn.stop {
                background: rgb(110,40,70);
background: linear-gradient(360deg, rgba(110,40,70,1) 0%, rgba(158,78,104,1) 100%);
                border: 1px solid #ca6c97;
            }
            .blackout {
                background-color: #151515;
            }
            textarea {
                box-shadow: inset 0 0 40px rgba(0,0,0,0.5);
                background-color: #444;
                border: 1px solid #437b88;
            }
            .update-btn {
                margin-bottom: 20px;
            }
            ul {
                list-style: disc;
                margin-left: 80px;
            }
            ol {
                list-style: decimal;
                margin-left: 80px;
            }
            strong {
                font-weight: 700;
            }
            em {
                color: #74e5ff;
                font-style: italic;
            }
        </style>
        <title>Teleprompter</title>
    </head>
    <body>
        <panel-wrapper id="controls" class="stick">
            <panel-inner whitespace="15">
                <prime-segment>
                    <x-minor>
                        <input type="text" inputMode="numeric" pattern="[0-9]*" name="speed" id="speed" value="18" />
                    </x-minor>
                    <x-major>
                        <button id="scrollBtn" class="start">Start Scrolling</button>
                    </x-major>
                </prime-segment>
            </panel-inner>
        </panel-wrapper>
        <panel-wrapper class="blackout">
            <panel-inner>
                <div class="content"><span class="info-message">Please add text below</span></div>
            </panel-inner>
        </panel-wrapper>
        <panel-wrapper class="blackout">
            <panel-inner>
                <textarea></textarea>
            </panel-inner>
        </panel-wrapper>
        <script>
            /*
            jQuishy
            ----------------------
            Author: Jade C. Rigby
            Date: 6/28/2019
            Version: 1.4.0
            License: MIT
            ----------------------
            */
            [Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})}),Array.prototype.forEach||(Array.prototype.forEach=function(t){var e,i;if(null==this)throw new TypeError("this is null or not defined");var s=Object(this),n=s.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(e=arguments[1]),i=0;i<n;){var o;i in s&&(o=s[i],t.call(e,o,i,s)),i++}}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(var i=0;i<this.length;i++)t.call(e,this[i],i,this)});var jQuishy=function(t){this.t,"string"==typeof t?this.t=document.querySelectorAll(t):t instanceof HTMLCollection?this.t=[].slice.call(t):void 0!==t&&(this.t=[t]),this.items=this.t,this.item=this.t[0],this.vanilla=1===this.t.length?this.t[0]:this.t,this.asString=this.vanilla.innerHTML};function paPos(t,e,i){t.forEach(function(t){t.insertAdjacentHTML(e,i)})}function _$(t){return t?new jQuishy(t):"1.4.0"}jQuishy.prototype.first=function(){return this.t=[this.item],this},jQuishy.prototype.attr=function(t,e){var i=[];return this.t.forEach(function(s){if(void 0===e){var n=s.getAttribute(t);i.push(n)}else s.setAttribute(t,e)}),1===i.length?i[0]:i},jQuishy.prototype.css=function(t,e){return this.t.forEach(function(i){var s=[];if(s.push(t),e&&s.push(e),2===s.length)i.style.cssText=s[0]+" : "+s[1];else if(s[0]){var n="";for(var o in s[0]){n+=o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()+":"+s[0][o]+";"}i.style.cssText=n}}),this},jQuishy.prototype.hasClass=function(t){return this.t[0].classList?this.t[0].classList.contains(t):new RegExp("(^| )"+className+"( |$)","gi").test(this.t[0].className)},jQuishy.prototype.addClass=function(t){return this.t.forEach(function(e){e.classList?e.classList.add(t):e.className+=" "+t}),this},jQuishy.prototype.removeClass=function(t){return this.t.forEach(function(e){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}),this},jQuishy.prototype.toggleClass=function(t){return this.t.forEach(function(e){if(e.classList)e.classList.toggle(t);else{var i=e.className.split(" "),s=i.indexOf(t);s>=0?i.splice(s,1):i.push(t),e.className=i.join(" ")}}),this},jQuishy.prototype.prepend=function(t){return paPos(this.t,"afterbegin",t),this},jQuishy.prototype.append=function(t){return paPos(this.t,"beforeend",t),this},jQuishy.prototype.click=function(t){return this.t.forEach(function(e){e.addEventListener("click",function(e){t(e)})}),this},jQuishy.prototype.delegate=function(t,e,i){return this.t[0].addEventListener(e,function(e){e.target&&e.target.matches(t)&&i(e)}),this};

            // https://www.w3schools.com/howto/howto_js_scroll_indicator.asp

            const md = new Remarkable();
            md.set({
                html: true
            });
            _$('input[type="submit"]').click(function() {
                _$('pre').vanilla.innerHTML = "";
                let text = _$('textarea').vanilla.value;
                let mdText = md.render(text);
                _$(".content").vanilla.innerHTML = mdText;
            });

            var isScrolling; 
            var scrolldelay; 

            _$('#controls').delegate('#scrollBtn', 'click', function(e) {
                if (_$(e.target).hasClass('start')) {
                    _$(e.target).addClass('stop');
                    _$(e.target).vanilla.innerHTML = "Stop";
                    _$(e.target).removeClass('start');
                    var scrollSpeed = _$('#speed').vanilla.value;
                    function pageScroll() { 
                        window.scrollBy(0,1);
                        scrolldelay = setTimeout(function() {
                            pageScroll();
                        }, scrollSpeed); 
                        isScrolling = true; 
                    } 
                    if(!isScrolling) { 
                        pageScroll(); 
                    } else { 
                        isScrolling = false; clearTimeout(scrolldelay);
                    }
                }
                else if (_$(e.target).hasClass('stop')) {
                    _$(e.target).addClass('start');
                    _$(e.target).vanilla.innerHTML = "Start Scrolling";
                    _$(e.target).removeClass('stop');
                    isScrolling = false; clearTimeout(scrolldelay);
                }
            });
            
            document.addEventListener("keyup", updateText);

            function updateText() {
                const textBox = _$('textarea').vanilla;
                if (textBox == document.activeElement) {
                    let text = _$('textarea').vanilla.value;
                    let mdText = md.render(text);
                    _$(".content").vanilla.innerHTML = mdText;
                }
            }
        </script>
    </body>
</html>